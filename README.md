# Rust-IME (Blind IME)

一个为高性能、跨平台（Linux 主打）和**盲打体验**设计的中文输入法引擎。

## 🌟 核心特色：英文辅码 (English Auxiliary Coding)

这是本输入法最显著的特色，也是它被称为 **"Blind IME"** 的原因。

### 为什么选择英文辅码？
传统的音形码（如五笔、二笔、小鹤双拼+形码）虽然能极大地减少重码，但其**码表记忆曲线极其陡峭**。你需要记住每个汉字的部首对应的拆码键位。

**Rust-IME 走了一条不同的路：**
利用你**已经掌握的英文单词**作为汉字的“辅码”。

*   **逻辑：** 拼音解决“音”，英文单词解决“形/意”。
*   **示例：**
    *   打“爱”：输入 `ai`，此时同音字很多。加入辅码 `Love` 的首字母 `L`，输入 `aiL`，候选词立即过滤剩下“爱”。
    *   打“泥”：输入 `ni` + `Mud` 的首字母 `M` -> `niM` -> 唯一选中“泥”。
    *   打“泥巴”：输入 `nib` (niba) + `Mud` -> `nibM` -> 自动上屏。

### 盲打的进化
虽然这需要你对几千个常用汉字的对应英文单词有基本印象，但对于现代人来说，记忆 `泥=Mud`, `爱=Love`, `泥=Mud` 的难度远低于记忆 `泥=isvn` (五笔)。

一旦熟练，你可以做到：
1.  **零选词：** 配合本引擎的“自动匹配”功能，当辅码达到唯一时自动上屏。
2.  **极致丝滑：** TAB 键不再是翻页，而是滚动窗口，配合辅码过滤，选词框几乎不再需要看。

---

## 🚀 功能特性

- **高性能 Trie 树：** 基于 Rust 实现的极速前缀匹配。
- **滑动窗口选词：** Tab 逐行滚动，Shift+Tab 反向滚动，打破传统的固定翻页模式。
- **全平台支持 (Linux)：** 
    - **uinput 模拟：** 真正的底层键盘拦截，支持所有应用（包括 IDE 和终端）。
    - **Clipboard/ydotool 混合注入：** 解决 Wayland/X11 下的兼容性问题。
- **Web 配置中心：** 运行后访问 `http://localhost:8765` 即可在线编辑词典、修改快捷键、查看辅码唯一性报告。
- **模糊音支持：** `zh/z`, `ch/c`, `sh/s`, `n/ng` 灵活配置。

## 🛠 安装与运行

### 依赖
- Linux 系统
- `input` 组权限（`sudo usermod -aG input $USER`）
- `ydotool` (可选，作为最终 Fallback)

### 编译
```bash
cargo build --release
```

### 运行
```bash
./target/release/rust-ime --foreground  # 前台运行调试
./target/release/rust-ime               # 默认后台 Daemon 模式
```

## 📊 辅码效率分析
项目内置了分析脚本 `analyze_aux.py`，运行后会生成：
- `uniqueness_report.txt`: 每个汉字达到唯一所需的最小辅码。
- `hard_words.txt`: 统计那些需要 2 位以上辅码才能确定的“难打字”。

目前 Level-1 常用字中，绝大多数汉字在 **1-2 位辅码** 内即可实现唯一匹配，实现真正的盲打。

---

## 🎨 快捷键预览 (默认)
- `Caps Lock`: 切换中英文
- `Tab`: 选中下一个候选项并滚动窗口
- `Shift + Tab`: 选中上一个候选项并反向滚动
- `1-5`: 选择对应序号词条
- `- / =`: 快速跨 5 项翻页
- `Ctrl + Alt + S`: 切换词库 (中/日/英...)